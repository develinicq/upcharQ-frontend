import React from 'react'
import GeneralDrawer from "../../../../components/GeneralDrawer/GeneralDrawer"
import { AlertCircle, CheckCircle2, ArrowUp, CreditCard } from 'lucide-react'
import { useNavigate } from 'react-router-dom'


const PlanIcon = () => (
  <svg
    width="48"
    height="48"
    viewBox="0 0 48 48"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <rect width="48" height="48" rx="6" fill="#0D47A1" />
    <circle cx="6.545" cy="6" r="1.09" fill="white" />
    <circle cx="40.363" cy="13.09" r="1.09" fill="white" />
    <circle cx="32.182" cy="6.545" r="0.545" fill="white" />
    <circle cx="12" cy="12.545" r="0.545" fill="white" />
    <circle cx="3.818" cy="26.182" r="0.545" fill="white" />
    <circle cx="40.909" cy="26.182" r="0.545" fill="white" />
    <circle cx="44.727" cy="6" r="0.545" fill="white" />
    <circle cx="9.273" cy="21.818" r="1.09" fill="white" />
    <circle cx="40.909" cy="32.727" r="1.09" fill="white" />
    <path
      fillRule="evenodd"
      clipRule="evenodd"
      d="M24.095 44.313V10.364C22.572 10.594 21.2 12.264 20.082 16.344V35.748C19.839 36.673 23.365 44.679 24.095 44.313Z"
      fill="url(#paint0)"
    />
    <path
      fillRule="evenodd"
      clipRule="evenodd"
      d="M5.139 29.919C5.158 30.185 5.249 30.384 5.542 30.397L20.082 28.768V21.565L4.98 28.054L5.139 29.919Z"
      fill="url(#paint1)"
    />
    <path
      fillRule="evenodd"
      clipRule="evenodd"
      d="M24.083 44.313V10.364C25.606 10.594 26.978 12.264 28.096 16.344V35.748C28.339 36.673 24.813 44.679 24.083 44.313Z"
      fill="url(#paint2)"
    />
    <path
      fillRule="evenodd"
      clipRule="evenodd"
      d="M43.04 29.919C43.021 30.185 42.93 30.384 42.638 30.397L28.097 28.768V21.565L43.199 28.054L43.04 29.919Z"
      fill="url(#paint3)"
    />
    <defs>
      <linearGradient id="paint0" x1="20.026" y1="76.917" x2="23.993" y2="76.917">
        <stop stopColor="#75D9A3" />
        <stop offset="0.805" stopColor="#00B1BC" />
      </linearGradient>
      <linearGradient id="paint1" x1="4.813" y1="38.874" x2="19.7" y2="38.874">
        <stop stopColor="#75D9A3" />
        <stop offset="1" stopColor="#00B1BC" />
      </linearGradient>
      <linearGradient id="paint2" x1="24.038" y1="76.917" x2="28.006" y2="76.917">
        <stop stopColor="#00B1BC" />
        <stop offset="1" stopColor="#75D9A3" />
      </linearGradient>
      <linearGradient id="paint3" x1="27.929" y1="38.874" x2="42.816" y2="38.874">
        <stop stopColor="#00B1BC" />
        <stop offset="1" stopColor="#75D9A3" />
      </linearGradient>
    </defs>
  </svg>
)

const StatusBadge = ({ status }) => {
  if (status === 'pending') {
    return (
      <div className="flex items-center gap-1.5 bg-error-50 text-error-400 p-1 rounded-lg"
      >
         <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M3.1875 10.7049L2.78074 10.9957H2.78074L3.1875 10.7049ZM2.97115 10.4023L3.37791 10.1115H3.37791L2.97115 10.4023ZM9.02885 10.4023L9.43561 10.693H9.43561L9.02885 10.4023ZM8.8125 10.7049L9.21926 10.9957V10.9957L8.8125 10.7049ZM9.72115 10.4023L10.1279 10.1115L10.1279 10.1115L9.72115 10.4023ZM2.27885 10.4023L2.68561 10.693V10.693L2.27885 10.4023ZM9.13073 1.00599L9.08503 1.5039H9.08503L9.13073 1.00599ZM10.4943 2.43661L10.9926 2.39506V2.39506L10.4943 2.43661ZM2.86927 1.00599L2.82356 0.508082V0.508082L2.86927 1.00599ZM1.50571 2.43661L1.00744 2.39506V2.39506L1.50571 2.43661ZM3.75 7.25C3.47386 7.25 3.25 7.47386 3.25 7.75C3.25 8.02614 3.47386 8.25 3.75 8.25V7.75V7.25ZM8.25 8.25C8.52614 8.25 8.75 8.02614 8.75 7.75C8.75 7.47386 8.52614 7.25 8.25 7.25V7.75V8.25ZM7.35356 4.35357C7.54882 4.15831 7.54882 3.84172 7.35356 3.64646C7.1583 3.4512 6.84172 3.4512 6.64646 3.64646L7.00001 4.00002L7.35356 4.35357ZM4.64646 5.64645C4.4512 5.84172 4.4512 6.1583 4.64646 6.35356C4.84173 6.54882 5.15831 6.54882 5.35357 6.35356L5.00002 6.00001L4.64646 5.64645ZM5.35356 3.64645C5.1583 3.45119 4.84172 3.45119 4.64646 3.64645C4.45119 3.84172 4.45119 4.1583 4.64646 4.35356L5.00001 4.00001L5.35356 3.64645ZM6.64645 6.35355C6.84171 6.54882 7.15829 6.54882 7.35355 6.35355C7.54882 6.15829 7.54882 5.84171 7.35355 5.64645L7 6L6.64645 6.35355ZM3.16667 1V1.5H8.83333V1V0.5H3.16667V1ZM10.5 2.74863H10V10.1299H10.5H11V2.74863H10.5ZM1.5 10.1299H2V2.74863H1.5H1V10.1299H1.5ZM3.1875 10.7049L3.59426 10.4141L3.37791 10.1115L2.97115 10.4023L2.56439 10.693L2.78074 10.9957L3.1875 10.7049ZM9.02885 10.4023L8.62209 10.1115L8.40574 10.4141L8.8125 10.7049L9.21926 10.9957L9.43561 10.693L9.02885 10.4023ZM9.72115 10.4023L10.1279 10.1115C9.75541 9.59041 8.99459 9.59041 8.62209 10.1115L9.02885 10.4023L9.43561 10.693C9.42632 10.706 9.40321 10.7207 9.375 10.7207C9.34679 10.7207 9.32368 10.706 9.3144 10.693L9.72115 10.4023ZM7.6875 10.7049L8.09426 10.4141C7.61359 9.74173 6.63641 9.74173 6.15574 10.4141L6.5625 10.7049L6.96926 10.9957C7.01406 10.933 7.07208 10.9098 7.125 10.9098C7.17792 10.9098 7.23594 10.933 7.28074 10.9957L7.6875 10.7049ZM5.4375 10.7049L5.84426 10.4141C5.36359 9.74173 4.38641 9.74173 3.90574 10.4141L4.3125 10.7049L4.71926 10.9957C4.76406 10.933 4.82208 10.9098 4.875 10.9098C4.92792 10.9098 4.98594 10.933 5.03074 10.9957L5.4375 10.7049ZM2.97115 10.4023L3.37791 10.1115C3.00541 9.59041 2.24459 9.59041 1.87209 10.1115L2.27885 10.4023L2.68561 10.693C2.67632 10.706 2.65321 10.7207 2.625 10.7207C2.59679 10.7207 2.57368 10.706 2.56439 10.693L2.97115 10.4023ZM3.1875 10.7049L2.78074 10.9957C3.26141 11.6681 4.23859 11.6681 4.71926 10.9957L4.3125 10.7049L3.90574 10.4141C3.86094 10.4768 3.80292 10.5 3.75 10.5C3.69708 10.5 3.63906 10.4768 3.59426 10.4141L3.1875 10.7049ZM7.6875 10.7049L7.28074 10.9957C7.76141 11.6681 8.73859 11.6681 9.21926 10.9957L8.8125 10.7049L8.40574 10.4141C8.36094 10.4768 8.30292 10.5 8.25 10.5C8.19708 10.5 8.13906 10.4768 8.09426 10.4141L7.6875 10.7049ZM5.4375 10.7049L5.03074 10.9957C5.51141 11.6681 6.48859 11.6681 6.96926 10.9957L6.5625 10.7049L6.15574 10.4141C6.11094 10.4768 6.05292 10.5 6 10.5C5.94708 10.5 5.88906 10.4768 5.84426 10.4141L5.4375 10.7049ZM1.5 10.1299H1C1 10.5717 1.27746 10.909 1.6308 11.0325C1.98736 11.1572 2.42169 11.0622 2.68561 10.693L2.27885 10.4023L1.87209 10.1115C1.87161 10.1122 1.87462 10.1079 1.88247 10.1023C1.89026 10.0967 1.9 10.0918 1.91085 10.0886C1.93236 10.0823 1.94992 10.0847 1.96092 10.0886C1.9719 10.0924 1.98227 10.0996 1.99032 10.1106C2.00015 10.124 2 10.1342 2 10.1299H1.5ZM10.5 10.1299H10C10 10.1342 9.99985 10.124 10.0097 10.1106C10.0177 10.0996 10.0281 10.0924 10.0391 10.0886C10.0501 10.0847 10.0676 10.0823 10.0892 10.0886C10.1 10.0918 10.1097 10.0967 10.1175 10.1023C10.1254 10.1079 10.1284 10.1122 10.1279 10.1115L9.72115 10.4023L9.31439 10.693C9.57831 11.0622 10.0126 11.1572 10.3692 11.0325C10.7225 10.909 11 10.5717 11 10.1299H10.5ZM8.83333 1V1.5C8.99919 1.5 9.04834 1.50053 9.08503 1.5039L9.13073 1.00599L9.17644 0.508082C9.08264 0.499472 8.97702 0.5 8.83333 0.5V1ZM10.5 2.74863H11C11 2.59633 11.0004 2.48948 10.9926 2.39506L10.4943 2.43661L9.99602 2.47816C9.99956 2.52064 10 2.57617 10 2.74863H10.5ZM9.13073 1.00599L9.08503 1.5039C9.55163 1.54673 9.95129 1.9417 9.99602 2.47816L10.4943 2.43661L10.9926 2.39506C10.9104 1.40985 10.1602 0.598381 9.17644 0.508082L9.13073 1.00599ZM3.16667 1V0.5C3.02298 0.5 2.91736 0.499472 2.82356 0.508082L2.86927 1.00599L2.91497 1.5039C2.95166 1.50053 3.00081 1.5 3.16667 1.5V1ZM1.5 2.74863H2C2 2.57617 2.00044 2.52064 2.00398 2.47816L1.50571 2.43661L1.00744 2.39506C0.999564 2.48948 1 2.59633 1 2.74863H1.5ZM2.86927 1.00599L2.82356 0.508082C1.83982 0.598381 1.08959 1.40985 1.00744 2.39506L1.50571 2.43661L2.00398 2.47816C2.04871 1.9417 2.44837 1.54673 2.91497 1.5039L2.86927 1.00599ZM3.75 7.75V8.25H8.25V7.75V7.25H3.75V7.75ZM7.00001 4.00002L6.64646 3.64646L5.64646 4.64646L6.00001 5.00001L6.35357 5.35357L7.35356 4.35357L7.00001 4.00002ZM6.00001 5.00001L5.64646 4.64646L4.64646 5.64645L5.00002 6.00001L5.35357 6.35356L6.35357 5.35357L6.00001 5.00001ZM5.00001 4.00001L4.64646 4.35356L5.64646 5.35357L6.00001 5.00001L6.35357 4.64646L5.35356 3.64645L5.00001 4.00001ZM6.00001 5.00001L5.64646 5.35357L6.64645 6.35355L7 6L7.35355 5.64645L6.35357 4.64646L6.00001 5.00001Z" fill="#F04248"/> </svg>
        <span className="text-sm">Pending</span>
      </div>
    )
  }

  return (
    <div className="flex items-center gap-1.5 bg-success-100 text-success-300 p-1 rounded-lg">
       <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4.60355 5.89645C4.40829 5.70118 4.09171 5.70118 3.89645 5.89645C3.70118 6.09171 3.70118 6.40829 3.89645 6.60355L4.25 6.25L4.60355 5.89645ZM5.25 7.25L4.89645 7.60355C5.09171 7.79882 5.40829 7.79882 5.60355 7.60355L5.25 7.25ZM8.10355 5.10355C8.29882 4.90829 8.29882 4.59171 8.10355 4.39645C7.90829 4.20118 7.59171 4.20118 7.39645 4.39645L7.75 4.75L8.10355 5.10355ZM11 6H10.5C10.5 8.48528 8.48528 10.5 6 10.5V11V11.5C9.03757 11.5 11.5 9.03757 11.5 6H11ZM6 11V10.5C3.51472 10.5 1.5 8.48528 1.5 6H1H0.5C0.5 9.03757 2.96243 11.5 6 11.5V11ZM1 6H1.5C1.5 3.51472 3.51472 1.5 6 1.5V1V0.5C2.96243 0.5 0.5 2.96243 0.5 6H1ZM6 1V1.5C8.48528 1.5 10.5 3.51472 10.5 6H11H11.5C11.5 2.96243 9.03757 0.5 6 0.5V1ZM4.25 6.25L3.89645 6.60355L4.89645 7.60355L5.25 7.25L5.60355 6.89645L4.60355 5.89645L4.25 6.25ZM5.25 7.25L5.60355 7.60355L8.10355 5.10355L7.75 4.75L7.39645 4.39645L4.89645 6.89645L5.25 7.25Z" fill="#12B76A"/>
</svg>

      <span className="text-sm ">Paid</span>
    </div>
  )
}

const Detail = ({ label, value }) => (
  <div>
    <p className="text-xs text-secondary-grey200">{label}</p>
    <p className="text-sm font-medium text-secondary-grey300">{value}</p>
  </div>
)

const SectionHeader = ({ title, subtitle }) => (
  <div className="px-4 py-3 border-b border-border">
    <h4 className="text-sm font-semibold text-secondary-grey400">{title}</h4>
    <p className="text-xs text-muted-foreground">{subtitle}</p>
  </div>
)

const TotalsRow = ({ label, value }) => (
  <div className="px-4 py-2 flex justify-between items-center">
    <span className="text-sm text-secondary-grey200">{label}</span>
    <span className="text-sm font-medium text-secondary-grey300">
      â‚¹{value.toLocaleString('en-IN')}
    </span>
  </div>
)


const InvoiceDrawer = ({ isOpen, onClose, invoiceData }) => {
  const defaultData = {
    planName: 'Upchar-Q Plus',
    planType: 'Plan Subscription',
    status: 'pending',
    dueDate: '02/12/2025',
    invoiceDate: '03/12/2025',
    invoiceNumber: 'INV-2025-02',
    paymentMethod: 'Card Payment 2041',
    billingCycle: 'Half-Yearly',
    seats: '2 Doctors | 2 Staffs',
    periodStart: 'May 24, 2025',
    periodEnd: 'May 24, 2026',
    lineItems: [
      { label: 'Plus (Base)', amount: 2299 },
      { label: 'Base x 6 months', amount: 13794 },
      { label: '6-Month Bonus (1 Month Free)', amount: -2299, isDiscount: true },
    ],
    subtotal: 11495,
    taxes: 2069,
    total: 13564,
    savings: 2713,
  }

  const data = invoiceData || defaultData

  const formatCurrency = (amount) => {
    const prefix = amount < 0 ? '-' : ''
    return `${prefix}â‚¹${Math.abs(amount).toLocaleString('en-IN')}`
  }
  const navigate=useNavigate()

  return (
   <GeneralDrawer
  isOpen={isOpen}
  onClose={onClose}
  title="Invoice"
  width={476}
  showPrimaryAction={false}
  zIndex={5000}
  className=""
  headerRight={data.status==="paid"?<svg width="103" height="32" viewBox="0 0 103 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8 0.25H95C96.8925 0.25 98.2868 0.25088 99.3555 0.394531C100.417 0.537251 101.12 0.81704 101.651 1.34863C102.183 1.88023 102.463 2.583 102.605 3.64453C102.749 4.71322 102.75 6.10747 102.75 8V24C102.75 25.8925 102.749 27.2868 102.605 28.3555C102.463 29.417 102.183 30.1198 101.651 30.6514C101.12 31.183 100.417 31.4627 99.3555 31.6055C98.2868 31.7491 96.8925 31.75 95 31.75H8C6.10747 31.75 4.71322 31.7491 3.64453 31.6055C2.583 31.4627 1.88023 31.183 1.34863 30.6514C0.817039 30.1198 0.537251 29.417 0.394531 28.3555C0.25088 27.2868 0.25 25.8925 0.25 24V8C0.25 6.10747 0.25088 4.71322 0.394531 3.64453C0.537251 2.583 0.817039 1.88023 1.34863 1.34863C1.88023 0.817039 2.583 0.537251 3.64453 0.394531C4.71322 0.25088 6.10747 0.25 8 0.25Z" fill="white"/>
<path d="M8 0.25H95C96.8925 0.25 98.2868 0.25088 99.3555 0.394531C100.417 0.537251 101.12 0.81704 101.651 1.34863C102.183 1.88023 102.463 2.583 102.605 3.64453C102.749 4.71322 102.75 6.10747 102.75 8V24C102.75 25.8925 102.749 27.2868 102.605 28.3555C102.463 29.417 102.183 30.1198 101.651 30.6514C101.12 31.183 100.417 31.4627 99.3555 31.6055C98.2868 31.7491 96.8925 31.75 95 31.75H8C6.10747 31.75 4.71322 31.7491 3.64453 31.6055C2.583 31.4627 1.88023 31.183 1.34863 30.6514C0.817039 30.1198 0.537251 29.417 0.394531 28.3555C0.25088 27.2868 0.25 25.8925 0.25 24V8C0.25 6.10747 0.25088 4.71322 0.394531 3.64453C0.537251 2.583 0.817039 1.88023 1.34863 1.34863C1.88023 0.817039 2.583 0.537251 3.64453 0.394531C4.71322 0.25088 6.10747 0.25 8 0.25Z" stroke="#8E8E8E" stroke-width="0.5"/>
<path d="M16.5 10C16.5 9.72386 16.2761 9.5 16 9.5C15.7239 9.5 15.5 9.72386 15.5 10H16H16.5ZM16 18.6667L15.631 19.0041C15.7257 19.1077 15.8596 19.1667 16 19.1667C16.1404 19.1667 16.2743 19.1077 16.369 19.0041L16 18.6667ZM19.0357 16.0874C19.222 15.8836 19.2079 15.5673 19.0041 15.381C18.8003 15.1947 18.484 15.2088 18.2977 15.4126L18.6667 15.75L19.0357 16.0874ZM13.7023 15.4126C13.516 15.2088 13.1997 15.1947 12.9959 15.381C12.7921 15.5673 12.778 15.8836 12.9643 16.0874L13.3333 15.75L13.7023 15.4126ZM18 22V21.5H14V22V22.5H18V22ZM14 22V21.5C13.0431 21.5 12.3756 21.4989 11.8721 21.4312C11.3829 21.3655 11.1238 21.2452 10.9393 21.0607L10.5858 21.4142L10.2322 21.7678C10.6335 22.169 11.1388 22.3416 11.7388 22.4223C12.3245 22.5011 13.0713 22.5 14 22.5V22ZM10 18H9.5C9.5 18.9287 9.49894 19.6755 9.57768 20.2612C9.65836 20.8612 9.83096 21.3665 10.2322 21.7678L10.5858 21.4142L10.9393 21.0607C10.7548 20.8762 10.6345 20.6171 10.5688 20.1279C10.5011 19.6244 10.5 18.9569 10.5 18H10ZM22 18H21.5C21.5 18.9569 21.4989 19.6244 21.4312 20.1279C21.3655 20.6171 21.2452 20.8762 21.0607 21.0607L21.4142 21.4142L21.7678 21.7678C22.169 21.3665 22.3416 20.8612 22.4223 20.2612C22.5011 19.6755 22.5 18.9287 22.5 18H22ZM18 22V22.5C18.9287 22.5 19.6755 22.5011 20.2612 22.4223C20.8612 22.3416 21.3665 22.169 21.7678 21.7678L21.4142 21.4142L21.0607 21.0607C20.8762 21.2452 20.6171 21.3655 20.1279 21.4312C19.6244 21.4989 18.9569 21.5 18 21.5V22ZM16 10H15.5V18.6667H16H16.5V10H16ZM16 18.6667L16.369 19.0041L19.0357 16.0874L18.6667 15.75L18.2977 15.4126L15.631 18.3293L16 18.6667ZM16 18.6667L16.369 18.3293L13.7023 15.4126L13.3333 15.75L12.9643 16.0874L15.631 19.0041L16 18.6667Z" fill="#626060"/>
<path d="M32.4148 21.5H29.1186V11.3182H32.5192C33.5168 11.3182 34.3736 11.522 35.0895 11.9297C35.8054 12.334 36.3539 12.9157 36.7351 13.6747C37.1196 14.4304 37.3118 15.3369 37.3118 16.3942C37.3118 17.4548 37.1179 18.3662 36.7301 19.1286C36.3456 19.8909 35.7888 20.4775 35.0597 20.8885C34.3305 21.2962 33.4489 21.5 32.4148 21.5ZM30.6548 20.1577H32.3303C33.1058 20.1577 33.7505 20.0118 34.2642 19.7202C34.7779 19.4252 35.1624 18.9993 35.4176 18.4425C35.6728 17.8823 35.8004 17.1996 35.8004 16.3942C35.8004 15.5954 35.6728 14.9176 35.4176 14.3608C35.1657 13.804 34.7895 13.3814 34.2891 13.093C33.7886 12.8047 33.1671 12.6605 32.4247 12.6605H30.6548V20.1577ZM42.3194 21.6541C41.6035 21.6541 40.9788 21.4901 40.4451 21.1619C39.9115 20.8338 39.4972 20.3748 39.2022 19.7848C38.9073 19.1948 38.7598 18.5054 38.7598 17.7166C38.7598 16.9245 38.9073 16.2318 39.2022 15.6385C39.4972 15.0452 39.9115 14.5845 40.4451 14.2564C40.9788 13.9283 41.6035 13.7642 42.3194 13.7642C43.0353 13.7642 43.6601 13.9283 44.1937 14.2564C44.7273 14.5845 45.1416 15.0452 45.4366 15.6385C45.7316 16.2318 45.8791 16.9245 45.8791 17.7166C45.8791 18.5054 45.7316 19.1948 45.4366 19.7848C45.1416 20.3748 44.7273 20.8338 44.1937 21.1619C43.6601 21.4901 43.0353 21.6541 42.3194 21.6541ZM42.3244 20.4062C42.7884 20.4062 43.1729 20.2836 43.4778 20.0384C43.7827 19.7931 44.0081 19.4666 44.1539 19.0589C44.3031 18.6513 44.3777 18.2022 44.3777 17.7116C44.3777 17.2244 44.3031 16.777 44.1539 16.3693C44.0081 15.9583 43.7827 15.6286 43.4778 15.38C43.1729 15.1314 42.7884 15.0071 42.3244 15.0071C41.8571 15.0071 41.4693 15.1314 41.161 15.38C40.8561 15.6286 40.6291 15.9583 40.4799 16.3693C40.3341 16.777 40.2612 17.2244 40.2612 17.7116C40.2612 18.2022 40.3341 18.6513 40.4799 19.0589C40.6291 19.4666 40.8561 19.7931 41.161 20.0384C41.4693 20.2836 41.8571 20.4062 42.3244 20.4062ZM48.9615 21.5L46.7143 13.8636H48.2505L49.747 19.4716H49.8216L51.323 13.8636H52.8592L54.3507 19.4467H54.4252L55.9118 13.8636H57.448L55.2058 21.5H53.6895L52.1383 15.9865H52.024L50.4728 21.5H48.9615ZM60.3452 16.9659V21.5H58.8587V13.8636H60.2855V15.1065H60.38C60.5556 14.7022 60.8307 14.3774 61.2053 14.1321C61.5831 13.8868 62.0587 13.7642 62.6321 13.7642C63.1525 13.7642 63.6082 13.8736 63.9993 14.0923C64.3904 14.3078 64.6937 14.6293 64.9091 15.0568C65.1245 15.4844 65.2322 16.013 65.2322 16.6428V21.5H63.7457V16.8217C63.7457 16.2682 63.6016 15.8357 63.3132 15.5241C63.0249 15.2093 62.6288 15.0518 62.125 15.0518C61.7803 15.0518 61.4737 15.1264 61.2053 15.2756C60.9401 15.4247 60.7296 15.6435 60.5739 15.9318C60.4214 16.2169 60.3452 16.5616 60.3452 16.9659ZM68.7124 11.3182V21.5H67.2259V11.3182H68.7124ZM73.9288 21.6541C73.2129 21.6541 72.5881 21.4901 72.0545 21.1619C71.5209 20.8338 71.1066 20.3748 70.8116 19.7848C70.5166 19.1948 70.3691 18.5054 70.3691 17.7166C70.3691 16.9245 70.5166 16.2318 70.8116 15.6385C71.1066 15.0452 71.5209 14.5845 72.0545 14.2564C72.5881 13.9283 73.2129 13.7642 73.9288 13.7642C74.6447 13.7642 75.2695 13.9283 75.8031 14.2564C76.3367 14.5845 76.751 15.0452 77.046 15.6385C77.341 16.2318 77.4885 16.9245 77.4885 17.7166C77.4885 18.5054 77.341 19.1948 77.046 19.7848C76.751 20.3748 76.3367 20.8338 75.8031 21.1619C75.2695 21.4901 74.6447 21.6541 73.9288 21.6541ZM73.9338 20.4062C74.3978 20.4062 74.7823 20.2836 75.0872 20.0384C75.3921 19.7931 75.6175 19.4666 75.7633 19.0589C75.9125 18.6513 75.987 18.2022 75.987 17.7116C75.987 17.2244 75.9125 16.777 75.7633 16.3693C75.6175 15.9583 75.3921 15.6286 75.0872 15.38C74.7823 15.1314 74.3978 15.0071 73.9338 15.0071C73.4664 15.0071 73.0787 15.1314 72.7704 15.38C72.4655 15.6286 72.2385 15.9583 72.0893 16.3693C71.9435 16.777 71.8706 17.2244 71.8706 17.7116C71.8706 18.2022 71.9435 18.6513 72.0893 19.0589C72.2385 19.4666 72.4655 19.7931 72.7704 20.0384C73.0787 20.2836 73.4664 20.4062 73.9338 20.4062ZM81.37 21.669C80.8861 21.669 80.4486 21.5795 80.0575 21.4006C79.6664 21.2183 79.3565 20.9548 79.1278 20.6101C78.9025 20.2654 78.7898 19.8428 78.7898 19.3423C78.7898 18.9115 78.8726 18.5568 79.0384 18.2784C79.2041 18 79.4278 17.7796 79.7095 17.6172C79.9912 17.4548 80.3061 17.3321 80.6541 17.2493C81.0021 17.1664 81.3568 17.1035 81.718 17.0604C82.1754 17.0073 82.5466 16.9643 82.8317 16.9311C83.1167 16.8946 83.3239 16.8366 83.4531 16.7571C83.5824 16.6776 83.647 16.5483 83.647 16.3693V16.3345C83.647 15.9003 83.5244 15.5639 83.2791 15.3253C83.0372 15.0866 82.6759 14.9673 82.1953 14.9673C81.6948 14.9673 81.3004 15.0784 81.0121 15.3004C80.727 15.5192 80.5298 15.7628 80.4205 16.0312L79.0234 15.7131C79.1892 15.2491 79.4311 14.8745 79.7493 14.5895C80.0708 14.3011 80.4403 14.0923 80.858 13.9631C81.2756 13.8305 81.7147 13.7642 82.1754 13.7642C82.4804 13.7642 82.8035 13.8007 83.1449 13.8736C83.4896 13.9432 83.8111 14.0724 84.1094 14.2614C84.411 14.4503 84.6579 14.7204 84.8501 15.0717C85.0424 15.4197 85.1385 15.8722 85.1385 16.429V21.5H83.6868V20.456H83.6271C83.531 20.6482 83.3868 20.8371 83.1946 21.0227C83.0024 21.2083 82.7554 21.3625 82.4538 21.4851C82.1522 21.6077 81.791 21.669 81.37 21.669ZM81.6932 20.4759C82.1042 20.4759 82.4555 20.3946 82.7472 20.2322C83.0421 20.0698 83.2659 19.8577 83.4183 19.5959C83.5741 19.3307 83.652 19.0473 83.652 18.7457V17.7614C83.599 17.8144 83.4962 17.8641 83.3438 17.9105C83.1946 17.9536 83.0239 17.9917 82.8317 18.0249C82.6394 18.0547 82.4522 18.0829 82.2699 18.1094C82.0876 18.1326 81.9351 18.1525 81.8125 18.169C81.5241 18.2055 81.2607 18.2668 81.022 18.353C80.7867 18.4392 80.5978 18.5634 80.4553 18.7259C80.3161 18.8849 80.2464 19.0971 80.2464 19.3622C80.2464 19.7301 80.3823 20.0085 80.6541 20.1974C80.9259 20.383 81.2723 20.4759 81.6932 20.4759ZM89.9771 21.6491C89.3606 21.6491 88.8104 21.4917 88.3265 21.1768C87.8459 20.8587 87.4681 20.4062 87.193 19.8196C86.9212 19.2296 86.7853 18.522 86.7853 17.6967C86.7853 16.8714 86.9229 16.1655 87.198 15.5788C87.4764 14.9922 87.8575 14.5431 88.3414 14.2315C88.8253 13.92 89.3739 13.7642 89.987 13.7642C90.461 13.7642 90.8422 13.8438 91.1305 14.0028C91.4222 14.1586 91.6475 14.3409 91.8066 14.5497C91.969 14.7585 92.095 14.9425 92.1845 15.1016H92.274V11.3182H93.7605V21.5H92.3088V20.3118H92.1845C92.095 20.4742 91.9657 20.6598 91.7967 20.8686C91.631 21.0774 91.4023 21.2597 91.1106 21.4155C90.819 21.5713 90.4411 21.6491 89.9771 21.6491ZM90.3052 20.3814C90.7328 20.3814 91.094 20.2687 91.389 20.0433C91.6873 19.8146 91.9127 19.4981 92.0652 19.0938C92.2209 18.6894 92.2988 18.2187 92.2988 17.6818C92.2988 17.1515 92.2226 16.6875 92.0701 16.2898C91.9177 15.892 91.694 15.5821 91.399 15.3601C91.104 15.138 90.7394 15.027 90.3052 15.027C89.8578 15.027 89.4849 15.143 89.1866 15.375C88.8883 15.607 88.6629 15.9235 88.5105 16.3246C88.3613 16.7256 88.2868 17.178 88.2868 17.6818C88.2868 18.1922 88.363 18.6513 88.5154 19.0589C88.6679 19.4666 88.8933 19.7898 89.1916 20.0284C89.4932 20.2637 89.8644 20.3814 90.3052 20.3814Z" fill="#424242"/>
</svg>:""
}
>

      {/* Content */}
      <div className="flex flex-col gap-3">
        {/* Plan Card */}
        <div className="border border-blue-primary400 rounded-lg p-4">
          <div className="flex items-start justify-between mb-2">
            <div className="flex items-center gap-3">
              <PlanIcon />
              <div>
                <p className="text-xs text-secondary-grey400 font-medium">{data.planType}</p>
                <h3 className="text-lg font-semibold text-blue-primary250">
                  {data.planName}
                </h3>
              </div>
            </div>
            <StatusBadge status={data.status} />
          </div>

          <div className="grid grid-cols-2 gap-x-6 gap-y-2">
            <Detail label="Due Date" value={data.dueDate} />
            <Detail label="Invoice Date" value={data.invoiceDate} />
            <Detail label="Invoice Number" value={data.invoiceNumber} />
            <Detail label="Payment Method" value={data.paymentMethod} />
            <Detail label="Billing Cycle" value={data.billingCycle} />
            <Detail label="Seats" value={data.seats} />
          </div>
        </div>

        {/* Breakdown */}
        <div className="border border-border rounded-lg overflow-hidden">
          <SectionHeader
            title="Half Yearly Seats"
            subtitle={`for ${data.periodStart} - ${data.periodEnd}`}
          />

          <div className="px-4 py-3 space-y-1">
            {data.lineItems.map((item, idx) => (
              <div key={idx} className="flex justify-between">
                <span className="text-sm text-secondary-grey200">{item.label}</span>
                <span
                  className={`text-sm font-medium ${
                    item.isDiscount
                      ? 'text-success-300'
                      : 'text-secondary-grey300'
                  }`}
                >
                  {item.isDiscount
                    ? formatCurrency(item.amount)
                    : `â‚¹${item.amount.toLocaleString('en-IN')}/mo`}
                </span>
              </div>
            ))}
          </div>

          <div className="border-t border-border mx-4" />

          <TotalsRow label="Subtotal (6 months)" value={data.subtotal} />
          <TotalsRow label="Taxes" value={data.taxes} />

          <div className="bg-blue-primary100 rounded-md px-4 py-2 mb-2 flex justify-between">
            <span className="font-medium text-secondary-grey300">Total Amount</span>
            <span className="text-xl font-bold text-blue-primary250">
              â‚¹{data.total.toLocaleString('en-IN')}
            </span>
          </div>

          {data.savings && (
            <div className="bg-success-100  text-success-300 px-4 py-2.5 text-center text-sm">
               ðŸŽ‰Â Get 1 Month Free! You save â‚¹{data.savings.toLocaleString('en-IN')}
            </div>
          )}
        </div>

        
       {data.status==="pending" &&(
         <div className="flex gap-3 w-full pt-1 p-2">
              
            <button onClick={()=>navigate("/billing/upgrade-plan")} className="px-2 border border-blue-primary150 px-2 bg-blue-primary100  text-md w-[49%] py-2 rounded flex items-center justify-center gap-2 text-blue-primary250">
               <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8 13.3334L8 2.66669M8 2.66669L12 6.66669M8 2.66669L4 6.66669" stroke="#2372EC" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
              Upgrade Plan
            </button>
          
          <button onClick={() =>
  navigate("/billing/payment", {
    state: {
      selectedPlan: defaultData.planName.split(" ")[1].toLowerCase(), 
    },
  })
} className="flex-1 px-2 text-md w-[50%] py-2 rounded flex items-center justify-center gap-2 bg-blue-primary250 text-monochrom-white">
            <CreditCard className="w-4 h-4" />
            Make Payment
          </button>
        </div>
       )}
      </div>
    </GeneralDrawer>
  )
}

export default InvoiceDrawer
